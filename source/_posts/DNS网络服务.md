---
title: DNS网络服务
date: 2020-07-05 16:54:05
tags:
---
##### 请描述用户访问网站时DNS的解析过程

###### 递归查询
1. 客户机首先查看本地hosts文件是否有解析记录，有则直接用来访问web server
1. 没有则向网卡中记录的首选DNS（本地DNS）发起查询请求
1. 本地DNS若有记录则返回给客户端，客户端接收到后直接访问web server
<!-- more -->
###### 迭代查询
1. 若没有，则本地DNS向根域服务器发起请求，请求解析对应顶级域的IP地址
1. 本地DNS得到顶级域服务器IP后，再想顶级域服务器发起请求，请求解析权威DNS服务器的IP地址
1. 本地DNS服务器获取到权威DNS服务器IP地址后，再向其查询具体的完整域名的对应解析记录
1. 最终本地DNS将查询到的对应域名的解析记录发送给客户端，并在本地记录一份

##### ==权威DNS==是经上一级授权对域名进行解析的DNS服务器，同时它可以把解析授权转授给其他服务器
##### ==递归DNS==负责接受用户对任何域名的查询，并返回结果给用户，它可以缓存结果避免用户再向上查询
##### ==智能DNS==就是将对用户发起的查询进行判断出是哪个运营商的用户查询，然后将请求转发给你相应的运营商IP处理，减少跨运营访问的时间，提高访问速度

